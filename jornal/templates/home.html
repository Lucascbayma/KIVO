{% load static %}
<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal JC - Home</title>
    <link rel="stylesheet" href="{% static 'jornal/css/style.css' %}">
</head>
<body>
<header class="header">
    <div class="col left">
        <div class="logo-container">
            <img src="{% static 'jornal/imagens/JC.png' %}" alt="JC" class="logo-img">
        </div>
    </div>
    <div class="col center">
        <nav class="menu">
            <a href="#">Editoria</a>
            <a href="#">Esportes</a>
            <a href="#">Pernambuco</a>
            <a href="#">Mais</a>
        </nav>
    </div>
    <div class="col right">
        <a href="{% url 'adicionar_artigo' %}" class="btn-adicionar-noticia" style="color: white; text-decoration: none; font-weight: 600; padding: 5px 10px; border: 1px solid white; border-radius: 4px;">+ Adicionar Notícia</a>
    </div>
</header>
  
  <main class="main-content">
    
    <section class="em-alta ultimas-noticias">
      <div class="section-head">
        <h2>Últimas Notícias</h2>
        <a href="#" class="see-more">Ver Mais</a>
      </div>
      <div class="carousel">
        {% for n in ultimas %}
          <div class="card">
            <div class="media">
              {% if n.pk %}
              <a href="{% url 'artigo_detalhe' pk=n.pk %}">
                {% if n.imagem %}
                  <img src="{{ n.imagem.url }}" alt="{{ n.titulo }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% else %}
              <a href="{% url 'detalhe_noticia_estatica' %}?sec=ultimas&id={{ forloop.counter0 }}">
                {% if n.image_url %}
                  <img src="{{ n.image_url }}" alt="{{ n.title }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% endif %}
            </div>
            <div class="meta">
              {% if n.pk %}
              <p class="title">{{ n.titulo|truncatechars:80 }}</p>
              <p class="time">{{ n.autor.username }} — {{ n.publicado_em|date:"d-m-Y" }}</p>
              {% else %}
              <p class="title">{{ n.title|truncatechars:80 }}</p>
              <p class="time">{{ n.source_name }} — {{ n.pubDate|slice:":10" }}</p>
              {% endif %}
            </div>
          </div>
        {% empty %}
          <p>Nenhuma notícia disponível.</p>
        {% endfor %}
      </div>
    </section>

    <section class="em-alta esportes">
      <div class="section-head"><h2>Esportes</h2><a href="#" class="see-more">Ver Mais</a></div>
      <div class="carousel">
        {% for n in esportes %}
          <div class="card">
            <div class="media">
              {% if n.pk %}
              <a href="{% url 'artigo_detalhe' pk=n.pk %}">
                {% if n.imagem %}
                  <img src="{{ n.imagem.url }}" alt="{{ n.titulo }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% else %}
              <a href="{% url 'detalhe_noticia_estatica' %}?sec=esportes&id={{ forloop.counter0 }}">
                {% if n.image_url %}
                  <img src="{{ n.image_url }}" alt="{{ n.title }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% endif %}
            </div>
            <div class="meta">
              {% if n.pk %}
              <p class="title">{{ n.titulo|truncatechars:80 }}</p>
              <p class="time">{{ n.autor.username }} — {{ n.publicado_em|date:"d-m-Y" }}</p>
              {% else %}
              <p class="title">{{ n.title|truncatechars:80 }}</p>
              <p class="time">{{ n.source_name }} — {{ n.pubDate|slice:":10" }}</p>
              {% endif %}
            </div>
          </div>
        {% empty %}
          <p>Nenhuma notícia de esportes.</p>
        {% endfor %}
      </div>
    </section>

    <section class="em-alta politica">
      <div class="section-head"><h2>Política</h2><a href="#" class="see-more">Ver Mais</a></div>
      <div class="carousel">
        {% for n in politica %}
          <div class="card">
            <div class="media">
              {% if n.pk %}
              <a href="{% url 'artigo_detalhe' pk=n.pk %}">
                {% if n.imagem %}
                  <img src="{{ n.imagem.url }}" alt="{{ n.titulo }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% else %}
              <a href="{% url 'detalhe_noticia_estatica' %}?sec=politica&id={{ forloop.counter0 }}">
                {% if n.image_url %}
                  <img src="{{ n.image_url }}" alt="{{ n.title }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% endif %}
            </div>
            <div class="meta">
              {% if n.pk %}
              <p class="title">{{ n.titulo|truncatechars:80 }}</p>
              <p class="time">{{ n.autor.username }} — {{ n.publicado_em|date:"d-m-Y" }}</p>
              {% else %}
              <p class="title">{{ n.title|truncatechars:80 }}</p>
              <p class="time">{{ n.source_name }} — {{ n.pubDate|slice:":10" }}</p>
              {% endif %}
            </div>
          </div>
        {% empty %}
          <p>Nenhuma notícia de política.</p>
        {% endfor %}
      </div>
    </section>

    <section class="em-alta clima">
      <div class="section-head"><h2>Clima</h2><a href="#" class="see-more">Ver Mais</a></div>
      <div class="carousel">
        {% for n in clima %}
          <div class="card">
            <div class="media">
              {% if n.pk %}
              <a href="{% url 'artigo_detalhe' pk=n.pk %}">
                {% if n.imagem %}
                  <img src="{{ n.imagem.url }}" alt="{{ n.titulo }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% else %}
              <a href="{% url 'detalhe_noticia_estatica' %}?sec=clima&id={{ forloop.counter0 }}">
                {% if n.image_url %}
                  <img src="{{ n.image_url }}" alt="{{ n.title }}" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% else %}
                  <img src="{% static 'jornal/imagens/sem-imagem.png' %}" alt="Sem imagem" style="width:100%; height:200px; object-fit:cover; border-radius:4px 4px 0 0;">
                {% endif %}
              </a>
              {% endif %}
            </div>
            <div class="meta">
              {% if n.pk %}
              <p class="title">{{ n.titulo|truncatechars:80 }}</p>
              <p class="time">{{ n.autor.username }} — {{ n.publicado_em|date:"d-m-Y" }}</p>
              {% else %}
              <p class="title">{{ n.title|truncatechars:80 }}</p>
              <p class="time">{{ n.source_name }} — {{ n.pubDate|slice:":10" }}</p>
              {% endif %}
            </div>
          </div>
        {% empty %}
          <p>Nenhuma notícia de clima.</p>
        {% endfor %}
      </div>
    </section>

  </main>

</body>
</html>